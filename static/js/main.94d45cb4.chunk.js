(this.webpackJsonpbadbank=this.webpackJsonpbadbank||[]).push([[0],{136:function(e,t,a){},141:function(e,t){},143:function(e,t){},155:function(e,t){},157:function(e,t){},185:function(e,t){},187:function(e,t){},188:function(e,t){},193:function(e,t){},195:function(e,t){},201:function(e,t){},203:function(e,t){},222:function(e,t){},234:function(e,t){},237:function(e,t){},254:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(127),s=(a(136),a(5)),r=a(30),o=a(4),l=a(0),i=function(e){var t=e.status,a=Object(o.f)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"navbar navbar-expand-lg app-navbar",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("a",{className:"navbar-brand app-brand mx-2",href:"#/",children:"iBank"}),Object(l.jsx)("button",{className:"navbar-toggler navbar-light",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar","aria-controls":"navbar","aria-expanded":"true","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:t?Object(l.jsxs)("ul",{className:"navbar-nav navbar-light flex-column flex-md-row ms-auto",children:[Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages active",href:"#/",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages",href:"#/deposit/",children:"Deposit"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages",href:"#/withdraw/",children:"Withdraw"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages",href:"#/alldata/",children:"Balance"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("button",{className:"nav-link nav-pages logout",href:"#/logout/",onClick:function(){localStorage.clear(),a("/login"),alert("Logout Successful!")},children:"Logout"})})]}):Object(l.jsxs)("ul",{className:"navbar-nav navbar-light flex-column flex-md-row ms-auto",children:[Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages active",href:"#/",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages",href:"#/login/",children:"Login"})}),Object(l.jsx)("li",{className:"nav-item px-1",children:Object(l.jsx)("a",{className:"nav-link nav-pages",href:"#/createaccount/",children:"Create Account"})})]})})]})})})},j=function(e){return Object(l.jsxs)("div",{className:"main-card",style:{maxWidth:"100%",minWidth:"350px",margin:"1rem",backgroundColor:"".concat(e.bodycolor)},children:[Object(l.jsx)("div",{className:"card-header",style:{backgroundColor:"".concat(e.hdrcolor),color:"".concat(e.hdrtext)},children:e.header}),Object(l.jsxs)("div",{className:"card-body",style:{color:"".concat(e.bodytext)},children:[e.title&&Object(l.jsx)("h4",{className:"card-title",children:e.title}),e.text&&Object(l.jsx)("p",{className:"card-text",children:e.text}),e.body,e.status&&Object(l.jsx)("div",{id:"createStatus",children:e.status})]})]})},b=function(){var e=Object(c.useState)(localStorage.getItem("token1")),t=Object(s.a)(e,1)[0];return Object(l.jsx)(l.Fragment,{children:t?Object(l.jsxs)("p",{className:"welcome",children:["Welcome ",t,"!"]}):Object(l.jsx)(l.Fragment,{})})},u=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(j,{className:"home-page",hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"Welcome to iBank",title:"Banking Made Easy",text:"For all your internet Bankings needs!",body:Object(l.jsx)("img",{src:"bank.png",className:"img-fluid w-75",alt:"Bank"})})]})},d=function(e){var t=e.onChange,a=e.atmMode,c=e.validTransaction,n=e.value;return""!==a?Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{id:"number-input",type:"number",value:n,onChange:t}),Object(l.jsx)("input",{className:"button mx-1",type:"submit",value:"Submit",disabled:!c,id:"submit-input"})]}):Object(l.jsx)(l.Fragment,{})},m=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),o=Object(s.a)(r,2),i=o[0],u=o[1],m=Object(c.useState)("Cash Back"),h=Object(s.a)(m,1)[0],O=Object(c.useState)(!1),x=Object(s.a)(O,2),f=x[0],g=x[1],p=Object(c.useState)(""),v=Object(s.a)(p,2),S=v[0],N=v[1],y="Balance: $".concat(Number(i).toFixed(2)," ");Object(c.useEffect)((function(){var e=localStorage.getItem("token2");e?u(e):localStorage.removeItem("token2")}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(j,{className:"withdrawal-page p-3",hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"Withdrawals",title:y,text:"Enter Withdrawal Amount",body:Object(l.jsx)("form",{className:"text-center",onSubmit:function(e){Number(a)<=i&&Number(a)>=0?(fetch("/account/update/-".concat(a),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.text()})).then((function(e){try{var t=JSON.parse(e).value.balance-a;u(t),localStorage.setItem("token2",t)}catch(c){console.log("err:",e)}})),alert("$".concat(a.toFixed(2)," Succesfully Withdrawn!")),g(!1)):(g(!1),alert("Insufficient Balance!")),N(""),e.preventDefault()},children:Object(l.jsx)(d,{onChange:function(e){N(e.target.value),n(Number(e.target.value)),e.target.value<=0?(alert("Enter a Positive Value!"),g(!1)):Number(e.target.value)>i?(alert("Insufficient Balance!"),g(!1)):g(!0)},atmMode:h,validTransaction:f,value:S})})})]})},h=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){fetch("/account/find",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]);var r=a.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"fs-6 text-wrap",children:e.name}),Object(l.jsx)("td",{className:"fs-6 text-wrap",children:e.type}),Object(l.jsxs)("td",{className:"fs-6 text-wrap",children:["$",e.balance]})]},t)}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(j,{className:"withdrawal-page p-3",hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"All Data",body:Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"fs-6",scope:"col",children:"Name"}),Object(l.jsx)("th",{className:"fs-6",scope:"col",children:"Email"}),Object(l.jsx)("th",{className:"fs-6",scope:"col",children:"Balance"})]})}),Object(l.jsx)("tbody",{children:r})]})})]})},O=a(64),x=a(128);function f(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h5",{children:"Success"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){return e.setShow(!0)},children:"Add another account"})]})}var g=function(e){var t=Object(c.useState)(""),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(""),j=Object(s.a)(i,2),b=j[0],u=j[1],d=Object(c.useState)(""),m=Object(s.a)(d,2),h=m[0],f=m[1],g=Object(c.useState)(!1),p=Object(s.a)(g,2),v=p[0],S=p[1],N=Object(o.f)(),y=function(){S(""!==n&&""!==b&&""!==h)},w=function(t,a){return!!t||(e.setStatus("Error: "+a),setTimeout((function(){return e.setStatus("")}),3e3),!1)},k=function(){r(""),u(""),f(""),S(!1)};return Object(l.jsxs)("form",{children:[Object(l.jsx)("label",{children:"Name"}),Object(l.jsx)("input",{type:"input",className:"form-control",id:"name",placeholder:"Enter name",value:n,onChange:function(e){r(e.currentTarget.value),y()}}),Object(l.jsx)("label",{children:"Email address"}),Object(l.jsx)("input",{type:"input",className:"form-control",id:"email",placeholder:"Enter email",value:b,onChange:function(e){u(e.currentTarget.value),y()}}),Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",value:h,onChange:function(e){f(e.currentTarget.value),y()}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"btn btn-light ml-auto",disabled:!v,onClick:function(){if(w(n,"name")&&w(b,"email")&&w(h,"password"))if(h.length<8)alert("Password Requires a minimum of 8 Characters!");else{var t="/account/create/".concat(n,"/").concat(b,"/").concat(h);Object(x.a)(Object(O.a)().mark((function e(){var a,c;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,console.log(c);case 7:case"end":return e.stop()}}),e)})))(),alert("Account Successfully Created!"),k(),e.setShow(!1),N("/login")}},children:"Create Account"})]})},p=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],b=o[1];return Object(l.jsx)(j,{hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"Create Account",status:i,body:a?Object(l.jsx)(g,{setShow:n,setStatus:b}):Object(l.jsx)(f,{setShow:n})})},v=a(129),S=a.n(v);function N(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h5",{children:"Success"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-light",onClick:function(){return e.setShow(!0)},children:"Logout"})]})}var y=function(e){var t=Object(c.useState)(""),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(""),j=Object(s.a)(i,2),b=j[0],u=j[1],d=Object(c.useState)(!1),m=Object(s.a)(d,2),h=m[0],O=m[1],x=Object(o.f)(),f=function(){O(""!==n&&""!==b)},g=function(t,a){return!!t||(e.setStatus("Error: "+a),setTimeout((function(){return e.setStatus("")}),3e3),!1)},p=function(){r(""),u(""),O(!1)};return Object(l.jsxs)("form",{children:[Object(l.jsx)("label",{children:"Email address"}),Object(l.jsx)("input",{type:"input",className:"form-control",id:"email",placeholder:"Enter email",value:n,onChange:function(e){r(e.currentTarget.value),f()}}),Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",autoComplete:"current-password",value:b,onChange:function(e){u(e.currentTarget.value),f()}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"form-control btn btn-light mb-1 mt-0",disabled:!h,onClick:function(){g(n,"email")&&g(b,"password")&&(b.length<8?alert("Password Requires a minimum of 8 Characters!"):fetch("/account/login/".concat(n,"/").concat(b)).then((function(e){return e.text()})).then((function(t){try{var a=JSON.parse(t);localStorage.setItem("token",a.account);var c=localStorage.getItem("token"),n=S.a.decode(c);localStorage.setItem("token1",n.name),localStorage.setItem("token2",n.balance),e.setStatus(""),e.setShow(!1),alert("Login Successful, Welcome back ".concat(n.name,"!")),e.setShow(!1),p(),x("/")}catch(s){e.setStatus(t),console.log("err:",t)}})))},children:"Submit"})]})},w=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],b=o[1];return Object(l.jsx)(j,{hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"Login",status:i,body:a?Object(l.jsx)(y,{setShow:n,setStatus:b}):Object(l.jsx)(N,{setShow:n,setStatus:b})})},k=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),o=Object(s.a)(r,2),i=o[0],u=o[1],m=Object(c.useState)("Deposit"),h=Object(s.a)(m,1)[0],O=Object(c.useState)(!1),x=Object(s.a)(O,2),f=x[0],g=x[1],p=Object(c.useState)(""),v=Object(s.a)(p,2),S=v[0],N=v[1],y="Balance: $".concat(Number(i).toFixed(2)," ");Object(c.useEffect)((function(){var e=localStorage.getItem("token2");e?u(e):localStorage.removeItem("token2")}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(j,{className:"deposit-page p-3",hdrcolor:"greenyellow",hdrtext:"#282c34",bodycolor:"dodgerblue",bodytext:"#282c34",header:"Deposits",title:y,text:"Enter Deposit Amount",body:Object(l.jsx)("form",{className:"text-center",onSubmit:function(e){"Deposit"===h&&Number(a)>=0?(fetch("/account/update/".concat(a),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.text()})).then((function(e){try{var t=JSON.parse(e).value.balance+a;u(t),localStorage.setItem("token2",t)}catch(c){console.log("err:",e)}})),alert("$".concat(a.toFixed(2)," Succesfully Deposited!")),g(!1)):alert("Unable to Process Negative Values!"),N(""),e.preventDefault()},children:Object(l.jsx)(d,{onChange:function(e){N(e.target.value),n(Number(e.target.value)),e.target.value<=0?(alert("Enter a Positive Value!"),g(!1)):g(!0)},atmMode:h,validTransaction:f,value:S})})})]})};var C=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){setInterval((function(){n(localStorage.getItem("token"))}),3e3)}),[]),Object(l.jsxs)(r.a,{children:[Object(l.jsx)(i,{status:a}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",element:Object(l.jsx)(u,{})}),Object(l.jsx)(o.a,{path:"/login/",element:Object(l.jsx)(w,{})}),Object(l.jsx)(o.a,{path:"/createaccount/",element:Object(l.jsx)(p,{})}),Object(l.jsx)(o.a,{path:"/deposit/",element:a?Object(l.jsx)(k,{}):Object(l.jsx)(w,{})}),Object(l.jsx)(o.a,{path:"/withdraw/",element:a?Object(l.jsx)(m,{}):Object(l.jsx)(w,{})}),Object(l.jsx)(o.a,{path:"/alldata/",element:a?Object(l.jsx)(h,{}):Object(l.jsx)(w,{})}),Object(l.jsx)(o.a,{path:"/logout/",element:Object(l.jsx)(w,{})})]})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,255)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))},I=document.getElementById("root");Object(n.createRoot)(I).render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(C,{})})),E()}},[[254,1,2]]]);
//# sourceMappingURL=main.94d45cb4.chunk.js.map